// Сканирование страницы на мошеннические слова

// Получаем сохранённые ключевые слова из локального хранилища расширения
chrome.storage.sync.get(['keywords'], data => {
	// Если ключевые слова найдены, сохраняем их в переменную, иначе используем пустой массив
	const keywords = data.keywords || []
	// Получаем весь текст на странице
	const bodyText = document.body.innerText

	// Перебираем каждое ключевое слово из списка
	keywords.forEach(word => {
		// Проверяем, содержится ли текущее слово в тексте страницы
		if (bodyText.includes(word)) {
			// Если слово найдено, отправляем сообщение в фоновый скрипт для уведомления
			chrome.runtime.sendMessage({
				type: 'alertUser',
				text: `Обнаружено мошенническое слово: ${word}`,
			})
		}
	})
})
